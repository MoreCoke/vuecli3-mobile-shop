(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8816a86"],{1799:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mb-3"},[e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination d-flex justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.propPage.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){a.preventDefault(),t.$emit("pageData",t.propPage.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.propPage.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.propPage.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("pageData",a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.propPage.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){a.preventDefault(),t.$emit("pageData",t.propPage.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},r=[],i={name:"Product",props:["propPage"]},n=i,c=e("2877"),o=Object(c["a"])(n,s,r,!1,null,null,null);a["a"]=o.exports},"683c":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mt-3"},[e("div",{staticClass:"vld-parent"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1),e("Cart",{staticClass:"shopping-right"}),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("GuestSidebar")],1),e("div",{staticClass:"col-md-9 h-100"},[e("div",{staticClass:"product-bar"},[e("ul",{staticClass:"nav nav-pills mb-3",attrs:{id:"pills-tab",role:"tablist"}},t._l(t.productType,(function(a,s){return e("li",{key:s,staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:s===t.currentTypeIndex},attrs:{"data-toggle":"pill"},on:{click:function(e){return e.preventDefault(),t.getTargetProductList(a,s)}}},[t._v(t._s(a))])])})),0)]),e("div",{staticClass:"row"},t._l(t.showProducts,(function(t,a){return e("div",{key:a,staticClass:"col-sm-4"},[e("ProductCard",{attrs:{card:t}})],1)})),0),t.showNoProduct?e("div",{staticClass:"noproduct mb-3"},[e("i",{staticClass:"far fa-2x fa-dizzy mb-3"}),t._v("目前沒有相關商品!! ")]):t._e(),t.showNoProduct?t._e():e("Pagination",{attrs:{"prop-page":t.pagination},on:{pageData:t.productsPagination}})],1)])])],1)},r=[],i=(e("99af"),e("4de4"),e("fb6a"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list-group custom-sticky product-sidebar mb-3"},t._l(t.brandList,(function(a,s){return e("router-link",{key:"brand-"+s,staticClass:"list-group-item",class:{active:t.isActive(a.path)},attrs:{to:"/guest/productlist/"+a.path}},[t._v(t._s(a.name))])})),1)}),n=[],c={data:function(){return{brandList:[{path:"全部品牌",name:"全部品牌"},{path:"apple",name:"Apple"},{path:"pixel",name:"Pixel"},{path:"samsung",name:"Samsung"},{path:"huawei",name:"Huawei"},{path:"oppo",name:"Oppo"},{path:"sony",name:"Sony"},{path:"xiaomi",name:"小米"},{path:"asus",name:"ASUS"}]}},methods:{isActive:function(t){return t===this.$route.params.brand}}},o=c,u=e("2877"),l=Object(u["a"])(o,i,n,!1,null,null,null),d=l.exports,p=e("e915"),g=e("1799"),f=e("b3b1"),h={components:{GuestSidebar:d,ProductCard:p["a"],Pagination:g["a"],Cart:f["a"]},data:function(){return{products:[],pagination:{current_page:null,total_pages:null,has_pre:null,has_next:null},pageMaxCard:9,productType:["全部商品","手機","手錶","耳機"],targetProducts:[],showProducts:[],isLoading:!1,currentTypeIndex:0,emitData:{type:"全部商品",index:0}}},methods:{classifyType:function(t){var a=t;switch(t){case"台":a="手機";break;case"支":a="手錶";break;case"組":a="耳機";break;default:break}return a},getData:function(){var t="".concat("https://vue-course-api.hexschool.io/","api/").concat("morecoke","/products/all"),a=this;a.isLoading=!0,a.$http.get(t).then((function(t){a.products=t.data.products,a.isLoading=!1,a.getTargetProductList(a.emitData["type"],a.emitData["index"])}))},getTargetProductList:function(t,a){var e=this,s=e.$route.params.brand;"全部品牌"===s?"全部商品"===t?(e.targetProducts=e.products.slice(0),e.currentTypeIndex=0):(e.targetProducts=e.products.filter((function(a){return t===e.classifyType(a["unit"])})),e.currentTypeIndex=a):"全部品牌"!==s&&("全部商品"===t?(e.targetProducts=e.products.filter((function(t){return s===t.category})),e.currentTypeIndex=0):(e.targetProducts=e.products.filter((function(a){return s===a.category&&t===e.classifyType(a["unit"])})),e.currentTypeIndex=a)),e.productsPagination()},productsPagination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.pagination.total_pages=Math.ceil(a.targetProducts.length/a.pageMaxCard),a.pagination.current_page=t,a.pagination.current_page<a.pagination.total_pages?a.pagination.has_next=!0:a.pagination.has_next=!1,a.pagination.current_page>1?a.pagination.has_pre=!0:a.pagination.has_pre=!1,a.getCurrentProductList(t)},getCurrentProductList:function(t){var a=this,e=9*(t-1),s=9*t;a.showProducts=a.targetProducts.slice(e,s)}},computed:{showNoProduct:function(){return"undefined"!==typeof this.showProducts&&0===this.showProducts.length}},watch:{$route:function(){this.getTargetProductList("全部商品",0)}},created:function(){var t=this;this.getData(),this.$bus.$on("HomeProductTypeIndex",(function(a,e){t.emitData.type=a,t.emitData.index=e}))},beforeDestroy:function(){this.$bus.$off("HomeProductTypeIndex")}},v=h,m=Object(u["a"])(v,s,r,!1,null,null,null);a["default"]=m.exports},b3b1:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dropdown shopping-cart"},[e("button",{staticClass:"shopping-btn",on:{click:function(a){t.showCartList=!t.showCartList}}},[e("i",{staticClass:"fas fa-shopping-cart fa-3x"}),e("span",{staticClass:"badge badge-pill badge-danger"},[t._v(t._s(t.cartProductsNum))])]),e("div",{staticClass:"dropdown-menu",class:{show:t.showCartList}},[e("div",{staticClass:"p-3"},[e("h5",{staticClass:"font-weight-bold"},[t._v("購物清單")]),e("div",{staticClass:"shopping-scroll my-3"},[e("table",{staticClass:"table"},[t.cartProductsNum>0?e("thead",[e("th"),e("th",[t._v("購買明細")]),e("th",[t._v("價格")])]):t._e(),e("tbody",[0===t.cartProductsNum?e("tr",[e("td",[t._v("目前尚無選購商品!")]),e("td"),e("td")]):t._e(),t._l(t.cartProducts.carts,(function(a,s){return e("tr",{key:"cart-"+s},[e("td",[e("router-link",{staticClass:"shopping-img",style:{backgroundImage:"url("+a.product.imgUrl+")"},attrs:{to:"/guest/productdetail/"+a.product.id}})],1),e("td",[e("h4",{staticClass:"mb-2"},[t._v(t._s(a.product.title))]),e("p",[t._v("共"+t._s(a.qty)+t._s(a.product.unit))])]),e("td",[e("p",[t._v(t._s(t._f("currency")(a.final_total)))]),e("button",{staticClass:"mt-3 btn btn-outline-info",on:{click:function(e){return t.delCartData(a.id)}}},[a.id===t.effect.currentLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"fas fa-trash-alt"})])])])}))],2)])]),e("div",{staticClass:"shopping-total"},[t._v("總計金額: "+t._s(t._f("currency")(t.cartProducts.total)))]),e("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:0===t.cartProductsNum},on:{click:t.toOrderCheck}},[e("i",{staticClass:"fas fa-shopping-cart mr-2"}),t._v("結帳去 ")])])])])},r=[],i=(e("99af"),{props:["addCart"],data:function(){return{cartProducts:{},cartProductsNum:null,showCartList:!1,effect:{isLoading:!1,currentLoading:""}}},methods:{getCartData:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("morecoke","/cart");t.$http.get(a).then((function(a){t.cartProducts=a.data.data,t.cartProductsNum=a.data.data.carts.length}))},delCartData:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("morecoke","/cart/").concat(t);a.effect.currentLoading=t,a.$http.delete(e).then((function(t){a.getCartData(),a.effect.currentLoading="",a.$bus.$emit("message:push",t.data.message,"warning"),a.$emit("delcart")}))},toOrderCheck:function(){this.cartProductsNum>0&&this.$router.push("/guest/productorder/check")}},watch:{addCart:function(){this.getCartData()}},created:function(){this.getCartData()}}),n=i,c=e("2877"),o=Object(c["a"])(n,s,r,!1,null,null,null);a["a"]=o.exports},e915:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"product-card"},[e("div",{staticClass:"product-brand bg-cover",style:t.compileBrandImg(t.card["category"])}),e("div",{staticClass:"product-img",style:{backgroundImage:"url("+t.card.imgUrl+")"},on:{click:function(a){return t.goProductDetail(t.card["id"])}}}),e("div",{staticClass:"product-title"},[t._v(" "+t._s(t.card.title)+" "),e("div",{staticClass:"product-type"},[t._v(t._s(t.classifyType(t.card["unit"])))])]),e("div",{staticClass:"product-textzone"},[e("div",[e("small",[t._v("原價 : ")]),e("span",{staticClass:"price-origin"},[t._v(t._s(t._f("currency")(t.card.origin_price)))])]),e("div",{staticClass:"price-sale"},[e("small",[t._v("特價 : ")]),t._v(t._s(t._f("currency")(t.card.price)))])]),e("a",{staticClass:"product-btn btn-primary",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goProductDetail(t.card["id"])}}},[t._v("瞭解更多")])])},r=[],i=(e("99af"),{props:["card"],data:function(){return{publicPath:"/vuecli3-mobile-shop/"}},methods:{compileBrandImg:function(t){return{backgroundImage:"url(".concat(this.publicPath,"img/").concat(t,".svg)")}},classifyType:function(t){var a;switch(t){case"台":a="手機";break;case"支":a="手錶";break;case"組":a="耳機";break;default:break}return a},goProductDetail:function(t){this.$router.push({name:"Productdetail",params:{id:t}})}}}),n=i,c=e("2877"),o=Object(c["a"])(n,s,r,!1,null,null,null);a["a"]=o.exports},fb6a:function(t,a,e){"use strict";var s=e("23e7"),r=e("861d"),i=e("e8b5"),n=e("23cb"),c=e("50c4"),o=e("fc6a"),u=e("8418"),l=e("1dde"),d=e("b622"),p=d("species"),g=[].slice,f=Math.max;s({target:"Array",proto:!0,forced:!l("slice")},{slice:function(t,a){var e,s,l,d=o(this),h=c(d.length),v=n(t,h),m=n(void 0===a?h:a,h);if(i(d)&&(e=d.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?r(e)&&(e=e[p],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return g.call(d,v,m);for(s=new(void 0===e?Array:e)(f(m-v,0)),l=0;v<m;v++,l++)v in d&&u(s,l,d[v]);return s.length=l,s}})}}]);
//# sourceMappingURL=chunk-e8816a86.57eb9113.js.map