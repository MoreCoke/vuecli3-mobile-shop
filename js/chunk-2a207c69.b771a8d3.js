(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a207c69"],{"4e82":function(t,n,a){"use strict";var e=a("23e7"),o=a("1c0b"),r=a("7b0b"),i=a("d039"),s=a("b301"),d=[],c=d.sort,l=i((function(){d.sort(void 0)})),u=i((function(){d.sort(null)})),f=s("sort"),m=l||!u||f;e({target:"Array",proto:!0,forced:m},{sort:function(t){return void 0===t?c.call(r(this)):c.call(r(this),o(t))}})},6753:function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"container"},[a("div",{staticClass:"vld-parent"},[a("loading",{attrs:{active:t.effect.isLoading},on:{"update:active":function(n){return t.$set(t.effect,"isLoading",n)}}})],1),a("EndGame",{attrs:{active:t.gameover,coupon:t.randomCoupon.title}}),a("div",{staticClass:"topic"},[t._v("優惠小遊戲")]),t._m(0),a("div",{staticClass:"row my-4"},t._l(t.randomCards,(function(n,e){return a("div",{key:"random-"+e,staticClass:"col-6 col-md-3"},[a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"playcard",class:{flipped:n.flipped,found:n.found},on:{click:function(a){return t.flippedCard(n)}}},[a("div",{staticClass:"back"}),a("div",{staticClass:"front",style:{backgroundImage:"url("+n.imgUrl+")"}})])])])})),0)],1)},o=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"rule-text"},[a("p",[t._v(" 遊戲規則: "),a("br"),t._v("點選配對相同的卡片，完成遊戲後隨機發送 "),a("br"),t._v("折扣碼並將該折扣送至結帳頁面，輸入折扣 "),a("br"),t._v("碼就能使用啦! ")])])}],r=(a("99af"),a("4de4"),a("c975"),a("d81d"),a("4e82"),a("284c")),i=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"endgame justify-content-center align-items-center",class:{"d-flex":t.active,"d-none":!t.active}},[a("div",{staticClass:"endgame-news"},[a("div",{staticClass:"endgame-content"},[a("div",{staticClass:"endgame-text"},[t._v(" 結束遊戲! "),a("br"),a("span",[t._v("恭喜你獲得")]),a("br"),a("span",{staticClass:"coupon-name"},[t._v(t._s(t.coupon))]),a("button",{staticClass:"btn btn-info btn-block mt-4",on:{click:t.toProductList}},[t._v("購物去"),a("i",{staticClass:"fas fa-shopping-basket ml-3"})])])])])])},s=[],d={props:["active","coupon"],methods:{toProductList:function(){this.$router.push("/guest/productlist/全部品牌")}}},c=d,l=a("2877"),u=Object(l["a"])(c,i,s,!1,null,null,null),f=u.exports,m={components:{EndGame:f},data:function(){return{random:[],randomCards:[],coupons:[{title:"95折折價券",code:"iloveflash"},{title:"8折折價券",code:"bhgynbmvgt"},{title:"85折折價券",code:"jkughjukj"},{title:"9折折價券",code:"asdfedfrgd"}],randomCoupon:{},gameover:!1,effect:{isLoading:!1}}},methods:{getData:function(){var t="".concat("https://vue-course-api.hexschool.io/","api/").concat("morecoke","/products/all"),n=this;n.effect.isLoading=!0,n.$http.get(t).then((function(t){n.effect.isLoading=!1,n.getRandom.apply(n,Object(r["a"])(t.data.products))}))},getRandom:function(){for(var t=this,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];var o=a.length,r=a.map((function(t){var n={};return n.title=t.title,n.imgUrl=t.imgUrl,n.flipped=!1,n.found=!1,n}));while(t.random.length<6){var i=Math.floor(Math.random()*o);-1===t.random.indexOf(r[i])&&t.random.push(r[i])}t.createRandomCard()},createRandomCard:function(){var t=this,n=t.random.length;while(t.randomCards.length<6){var a=Math.floor(Math.random()*n);-1===t.randomCards.indexOf(t.random[a])&&t.randomCards.push(t.random[a])}var e=JSON.parse(JSON.stringify(t.randomCards));t.randomCards=e.concat(t.randomCards),t.shuffleRandomCards()},shuffleRandomCards:function(){this.randomCards.sort((function(){return Math.random()}))},flippedCard:function(t){var n,a=this;t.flipped&&t.found||(n=this.randomCards.filter((function(t){return t.flipped})).length,0===n?t.flipped=!0:1===n&&(t.flipped=!0,a.checkSameCards()))},checkSameCards:function(){var t=this,n=this.randomCards.filter((function(t){return t.flipped}));n[0].title===n[1].title&&(n[0].found=!0,n[1].found=!0,t.checkFoundCards()),setTimeout((function(){n[0].flipped=!1,n[1].flipped=!1}),1e3)},checkFoundCards:function(){var t=this,n=t.randomCards.length,a=t.randomCards.filter((function(t){return t.found})).length;n===a&&t.getRandomCoupon()},getRandomCoupon:function(){var t=this,n=Math.floor(Math.random()*t.coupons.length);t.randomCoupon=t.coupons[n],setTimeout((function(){t.gameOver()}),2e3)},gameOver:function(){var t=this;t.gameover=!0,localStorage.setItem("coupon",JSON.stringify(t.randomCoupon))}},created:function(){this.getData()}},p=m,h=Object(l["a"])(p,e,o,!1,null,null,null);n["default"]=h.exports},d81d:function(t,n,a){"use strict";var e=a("23e7"),o=a("b727").map,r=a("1dde");e({target:"Array",proto:!0,forced:!r("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-2a207c69.b771a8d3.js.map